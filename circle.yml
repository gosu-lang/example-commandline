machine:

  timezone:
    America/Los_Angeles

  java:
    version:
      oraclejdk8

  environment:
    JAVA_OPTS: "-Xmx1g"
    GOSU_VERSION: "1.8"
    GOSU_HOME: $HOME/$CIRCLE_PROJECT_REPONAME/gosu-$GOSU_VERSION

test:
  pre:
    - curl -L -o gosu-$GOSU_VERSION-full.tar.gz http://search.maven.org/remotecontent?filepath=org/gosu-lang/gosu/gosu/$GOSU_VERSION/gosu-$GOSU_VERSION-full.tar.gz
    - tar -xvf gosu-$GOSU_VERSION-full.tar.gz
    - curl -L -o commons-math-2.2.jar http://search.maven.org/remotecontent?filepath=org/apache/commons/commons-math/2.2/commons-math-2.2.jar
  override:
    # Run an inline script from the commandline
    - $GOSU_HOME/bin/gosu -e 'print(\"Hello world!\")'
    # Run a simple Gosu Program with no dependencies or arguments
    - $GOSU_HOME/bin/gosu simple/HelloWorld.gsp
    # Run a simple Gosu Program with arguments
    - $GOSU_HOME/bin/gosu simple/HelloWorldWithArgs.gsp foo bar "baz" 42 Acceptable!
    # Run a Gosu Program which imports other classes
    - $GOSU_HOME/bin/gosu imports/RunFoo.gsp
    # Run a simple Gosu Program with a classpath argument
    - $GOSU_HOME/bin/gosu -classpath "commons-math-2.2.jar" externalDeps/Exponents.gsp
